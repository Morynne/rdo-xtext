<html>
<head>
<link rel="stylesheet" type="text/css" href="../styles/rao_general.css">
<link rel="stylesheet" href="../styles/rao_highlight.css">
<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
<script src="../scripts/thirdparty/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="../scripts/thirdparty/jquery-2.1.4.min.js"></script>
<script src="../scripts/table_of_contents.js"></script>
</head>
<body>
<h2>Таблицы и списки</h2>
<p>Для преобразования комбинаций входных значений язык предоставляет таблицы или списки.</p>
<h3>Таблицы</h3>
<p>Описание таблицы имеет следующий вид:</p>
<pre><code class="rao"><i>тип_возвращаемого_значения</i> table <i>имя_таблицы</i>(<i>описание_параметров_таблицы</i>) {
    <i>тело_таблицы</i>
}</code></pre>
<p>Тело таблицы представляет из себя перечисление возвращаемых значений для всех возможных комбинаций значений параметров. Параметрами таблицы могут являться только значения перечислимых типов. Получение значения по таблице имеет такой же формат, как вызов функции.</p>
<pre><code class="rao">enum Тип_станка {токарный, фрезерный}
enum Тип_заготовки {вал_тип_1, вал_тип_2, корпус}

boolean table возможность_обработки(Тип_станка тип_станка, Тип_заготовки тип_заготовки) {
    /*              токарный фрезерный */
    /* вал_тип_1 */ true     true
    /* вал_тип_2 */ true     false
    /* корпус    */ false    true
}

operation обработка_на_станке() {
    relevant заготовка = Заготовка.select(any).withMax(приоритет);
    relevant станок = Станок.select(возможность_обработки(станок.тип, заготовка.тип));

    // тело образца
    // ...
}</code></pre>
<h3>Списки</h3>
<p>Описание списка имеет следующий вид:</p>
<pre><code class="rao"><i>тип_возвращаемого_значения</i> list <i>имя_списка</i>(<i>описание_параметров_списка</i>) {
    <i>тело_списка</i>
}</code></pre>
<p>В теле задаются соответствия между комбинацией параметров и результатом. Результат указывается после знака равенства. В отличие от таблицы, для списков задавать соответствие для всех возможных комбинаций параметров не обязательно.</p>
<pre><code class="rao">enum Тип_станка {токарный, фрезерный}
enum Тип_заготовки {вал_тип_1, вал_тип_2, корпус}

double list время_обработки(Тип_станка тип_станка, Тип_заготовки тип_заготовки) {
    Тип_станка.токарный Тип_заготовки.вал_тип_1 = 40.0
    Тип_станка.токарный Тип_заготовки.вал_тип_2 = 20.5
    Тип_станка.фрезерный Тип_заготовки.вал_тип_1 = 80.0
    Тип_станка.фрезерный Тип_заготовки.корпус = 125.2
}

operation обработка_на_станке() {
    relevant заготовка = Заготовка.select(any).withMax(приоритет);
    relevant станок = Станок.select(возможность_обработки(станок.тип, заготовка.тип));

    set duration() {
        return время_обработки(станок.тип, заготовка.тип);
    }

    // тело образца
    // ...
}</code></pre>
</body>
</html>
